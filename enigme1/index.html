<!DOCTYPE html>
<html lang="fr">
      <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #f0f0f0;
    }
    .conteneur {
      width: 300px;
      padding: 20px;
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      margin: 100px auto;
    }
    input[type="text"] {
      padding: 10px;
      width: 100%;
      font-size: 16px;
      margin-bottom: 10px;
    }
    button {
      background-color: #4CAF50;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #45a049;
    }
    #message {
      font-weight: bold;
      margin-top: 10px;
    }
  </style>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Énigme 1</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <h1>Énigme 1</h1>
    <p>Quel est le mot secret ?</p>

    <form id="enigme1-form">
        <input type="text" id="reponse" placeholder="Réponse">
        <button type="submit">Valider</button>
    </form>

    <script>
        // Le tableau des positions des lettres à remplir (index des énigmes => index dans le mot mystère)
        const positions = {
            1: 1, // Énigme 1 => Lettre 1
            2: 6, // Énigme 2 => Lettre 6
            3: 7, // Énigme 3 => Lettre 7
            4: 1, // Énigme 4 => Lettre 1
            5: 5, // Énigme 5 => Lettre 5
            6: 8, // Énigme 6 => Lettre 8
            7: 2, // Énigme 7 => Lettre 2
            8: 9, // Énigme 8 => Lettre 9
            9: 4, // Énigme 9 => Lettre 4
            10: 10 // Énigme 10 => Lettre 10
        };

        const correctAnswer = "motclef"; // Réponse correcte pour l'énigme
        const index = 1; // L'énigme actuelle (ici Énigme 1)
        const position = positions[index]; // Position dans le mot mystère

        // Lors du submit du formulaire
        document.getElementById('enigme1-form').addEventListener('submit', function(event) {
            event.preventDefault(); // Empêche le rechargement de la page
            const response = document.getElementById('reponse').value.trim().toLowerCase();

            // Vérifie si la réponse est correcte et si cette lettre n'a pas déjà été enregistrée
            if (response === correctAnswer && !localStorage.getItem('letter_' + position)) {
                // Sauvegarde la lettre dans le localStorage
                localStorage.setItem('letter_' + position, response.charAt(0));
                alert('Réponse correcte ! La lettre à la position ' + position + ' a été enregistrée.');

                // Optionnel : Rediriger ou fermer la popup (si nécessaire)
                // window.close();
            } else if (response !== correctAnswer) {
                alert('Réponse incorrecte, essayez encore.');
            } else {
                alert('Cette lettre à la position ' + position + ' a déjà été enregistrée.');
            }
        });
    </script>
</body>
</html>
